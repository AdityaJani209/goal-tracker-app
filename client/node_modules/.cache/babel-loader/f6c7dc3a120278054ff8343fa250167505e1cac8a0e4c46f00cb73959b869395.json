{"ast":null,"code":"import axios from'axios';// API configuration\nconst API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';// Create axios instance\nconst api=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});// Add token to requests\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});// Handle responses and errors\napi.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/login';}return Promise.reject(error);});// Auth API functions\nexport const authAPI={register:userData=>api.post('/auth/register',userData),login:credentials=>api.post('/auth/login',credentials),getProfile:()=>api.get('/auth/me'),updateProfile:userData=>api.put('/auth/profile',userData),changePassword:passwordData=>api.put('/auth/change-password',passwordData)};// Goals API functions\nexport const goalsAPI={getGoals:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get('/goals',{params});},getGoal:id=>api.get(\"/goals/\".concat(id)),createGoal:goalData=>api.post('/goals',goalData),updateGoal:(id,goalData)=>api.put(\"/goals/\".concat(id),goalData),deleteGoal:id=>api.delete(\"/goals/\".concat(id)),getStats:()=>api.get('/goals/stats/overview'),// Milestones\naddMilestone:(goalId,milestoneData)=>api.post(\"/goals/\".concat(goalId,\"/milestones\"),milestoneData),updateMilestone:(goalId,milestoneId,milestoneData)=>api.put(\"/goals/\".concat(goalId,\"/milestones/\").concat(milestoneId),milestoneData),deleteMilestone:(goalId,milestoneId)=>api.delete(\"/goals/\".concat(goalId,\"/milestones/\").concat(milestoneId)),// Notes\naddNote:(goalId,noteData)=>api.post(\"/goals/\".concat(goalId,\"/notes\"),noteData)};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","authAPI","register","userData","post","login","credentials","getProfile","get","updateProfile","put","changePassword","passwordData","goalsAPI","getGoals","params","arguments","length","undefined","getGoal","id","createGoal","goalData","updateGoal","deleteGoal","delete","getStats","addMilestone","goalId","milestoneData","updateMilestone","milestoneId","deleteMilestone","addNote","noteData"],"sources":["C:/Users/ADITYA/Desktop/React/goal-tracker-app/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// API configuration\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Create axios instance\r\n\r\nconst api = axios.create({\r\n    baseURL: API_BASE_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Add token to requests\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// Handle responses and errors\r\napi.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n        if (error.response?.status === 401) {\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('user');\r\n            window.location.href = '/login';\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// Auth API functions\r\nexport const authAPI = {\r\n    register: (userData) => api.post('/auth/register', userData),\r\n    login: (credentials) => api.post('/auth/login', credentials),\r\n    getProfile: () => api.get('/auth/me'),\r\n    updateProfile: (userData) => api.put('/auth/profile', userData),\r\n    changePassword: (passwordData) => api.put('/auth/change-password', passwordData),\r\n};\r\n\r\n// Goals API functions\r\nexport const goalsAPI = {\r\n    getGoals: (params = {}) => api.get('/goals', { params }),\r\n    getGoal: (id) => api.get(`/goals/${id}`),\r\n    createGoal: (goalData) => api.post('/goals', goalData),\r\n    updateGoal: (id, goalData) => api.put(`/goals/${id}`, goalData),\r\n    deleteGoal: (id) => api.delete(`/goals/${id}`),\r\n    getStats: () => api.get('/goals/stats/overview'),\r\n\r\n    // Milestones\r\n    addMilestone: (goalId, milestoneData) =>\r\n        api.post(`/goals/${goalId}/milestones`, milestoneData),\r\n    updateMilestone: (goalId, milestoneId, milestoneData) =>\r\n        api.put(`/goals/${goalId}/milestones/${milestoneId}`, milestoneData),\r\n    deleteMilestone: (goalId, milestoneId) =>\r\n        api.delete(`/goals/${goalId}/milestones/${milestoneId}`),\r\n\r\n    // Notes\r\n    addNote: (goalId, noteData) =>\r\n        api.post(`/goals/${goalId}/notes`, noteData),\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}